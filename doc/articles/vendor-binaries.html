<!DOCTYPE html>
<html class="no-js" lang="ja">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Composer　ドキュメント日本語訳</title>
        <meta name="description" content="Dependency Management for PHP">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="stylesheet" href="/getcomposer.org_doc_jp/css/styles.min.css">
        <link rel="shortcut icon" href="/getcomposer.org_doc_jp/favicon.ico">
        <script src="/getcomposer.org_doc_jp/js/scripts.min.js"></script>
        <script>
            if (location.host.indexOf(":12345") >= 0) {
                // It's my local developing server port.
                document.write(
                    '<script src="http://' + 
                    (location.host || 'localhost').split(':')[0] + 
                    ':35729/livereload.js?snipver=1"></' + 
                    'script>'
                )
            }
        </script>
    </head>
    <body>
        <div id="container">
            <header>
              <a href="http://getcomposer.org/">ホーム</a><a class="" href="/getcomposer.org_doc_jp/doc/00-intro.html">はじめに</a><a class="" href="http://getcomposer.org/download/">ダウンロード</a><a class="active" href="/getcomposer.org_doc_jp/doc/">ドキュメント</a><a class="last" href="http://packagist.org/">パッケージの参照</a>
              <div class="note">
                * これはKohki Makimotoが個人的に翻訳している記事です。<a class="repo" href="https://github.com/kohkimakimoto/getcomposer.org_doc_jp">Githubリポジトリはここです。</a>
              </div>
            </header>
            <div id="main" role="main">
                <!--
    tagline: Expose command-line scripts from packages
-->

<h1 id="vendor-binaries-and-the-vendor-bin-directory">Vendor binaries and the <code>vendor/bin</code> directory</h1>
<h2 id="what-is-a-vendor-binary-">What is a vendor binary?</h2>
<p>Any command line script that a Composer package would like to pass along
to a user who installs the package should be listed as a vendor binary.</p>
<p>If a package contains other scripts that are not needed by the package
users (like build or compile scripts) that code should not be listed
as a vendor binary.</p>
<h2 id="how-is-it-defined-">How is it defined?</h2>
<p>It is defined by adding the <code>bin</code> key to a project&#39;s <code>composer.json</code>.
It is specified as an array of files so multiple binaries can be added
for any given project.</p>
<pre><code>{
    &quot;bin&quot;: [&quot;bin/my-script&quot;, &quot;bin/my-other-script&quot;]
}</code></pre>
<h2 id="what-does-defining-a-vendor-binary-in-composer-json-do-">What does defining a vendor binary in composer.json do?</h2>
<p>It instructs Composer to install the package&#39;s binaries to <code>vendor/bin</code>
for any project that <strong>depends</strong> on that project.</p>
<p>This is a convenient way to expose useful scripts that would
otherwise be hidden deep in the <code>vendor/</code> directory.</p>
<h2 id="what-happens-when-composer-is-run-on-a-composer-json-that-defines-vendor-binaries-">What happens when Composer is run on a composer.json that defines vendor binaries?</h2>
<p>For the binaries that a package defines directly, nothing happens.</p>
<h2 id="what-happens-when-composer-is-run-on-a-composer-json-that-has-dependencies-with-vendor-binaries-listed-">What happens when Composer is run on a composer.json that has dependencies with vendor binaries listed?</h2>
<p>Composer looks for the binaries defined in all of the dependencies. A
symlink is created from each dependency&#39;s binaries to <code>vendor/bin</code>.</p>
<p>Say package <code>my-vendor/project-a</code> has binaries setup like this:</p>
<pre><code>{
    &quot;name&quot;: &quot;my-vendor/project-a&quot;,
    &quot;bin&quot;: [&quot;bin/project-a-bin&quot;]
}</code></pre>
<p>Running <code>composer install</code> for this <code>composer.json</code> will not do
anything with <code>bin/project-a-bin</code>.</p>
<p>Say project <code>my-vendor/project-b</code> has requirements setup like this:</p>
<pre><code>{
    &quot;name&quot;: &quot;my-vendor/project-b&quot;,
    &quot;requires&quot;: {
        &quot;my-vendor/project-a&quot;: &quot;*&quot;
    }
}</code></pre>
<p>Running <code>composer install</code> for this <code>composer.json</code> will look at
all of project-b&#39;s dependencies and install them to <code>vendor/bin</code>.</p>
<p>In this case, Composer will make <code>vendor/my-vendor/project-a/bin/project-a-bin</code>
available as <code>vendor/bin/project-a-bin</code>. On a Unix-like platform
this is accomplished by creating a symlink.</p>
<h2 id="what-about-windows-and-bat-files-">What about Windows and .bat files?</h2>
<p>Packages managed entirely by Composer do not <em>need</em> to contain any
<code>.bat</code> files for Windows compatibility. Composer handles installation
of binaries in a special way when run in a Windows environment:</p>
<ul>
<li>A <code>.bat</code> file is generated automatically to reference the binary</li>
<li>A Unix-style proxy file with the same name as the binary is generated
automatically (useful for Cygwin or Git Bash)</li>
</ul>
<p>Packages that need to support workflows that may not include Composer
are welcome to maintain custom <code>.bat</code> files. In this case, the package
should <strong>not</strong> list the <code>.bat</code> file as a binary as it is not needed.</p>
<h2 id="can-vendor-binaries-be-installed-somewhere-other-than-vendor-bin-">Can vendor binaries be installed somewhere other than vendor/bin?</h2>
<p>Yes, there are two ways an alternate vendor binary location can be specified:</p>
<ol>
<li>Setting the <code>bin-dir</code> configuration setting in <code>composer.json</code></li>
<li>Setting the environment variable <code>COMPOSER_BIN_DIR</code></li>
</ol>
<p>An example of the former looks like this:</p>
<pre><code>{
    &quot;config&quot;: {
        &quot;bin-dir&quot;: &quot;scripts&quot;
    }
}</code></pre>
<p>Running <code>composer install</code> for this <code>composer.json</code> will result in
all of the vendor binaries being installed in <code>scripts/</code> instead of
<code>vendor/bin/</code>.</p>

                 <p class="fork-and-edit">
                    誤字を見つけましたか？ 何か間違いがありますか？ <a href="https://github.com/kohkimakimoto/getcomposer.org_doc_jp">forkして編集してください</a>！
                    <!--
                    Found a typo? Something is wrong in this documentation? Just <a href="http://github.com/composer/composer/edit/master/doc/{{ file }}">fork and edit</a> it!
                    -->
                </p>
            </div>
            <footer>
                <p class="license">Composer and all content on this site are released under the <a href="https://github.com/composer/composer/blob/master/LICENSE">MIT license</a>.</p>
            </footer>
        </div>
    </body>
</html>